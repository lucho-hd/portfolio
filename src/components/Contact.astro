---
    import SuccessAlert from "./SuccessAlert.astro";
---

<form class="grid grid-cols-8 flex-wrap md:flex-nowrap items-center gap-x-3">
    <div class="col-span-8 md:col-span-6 w-full px-4 py-2 border-2 bg-white/5 border-white/10 rounded overflow-hidden line-clamp-1">
        <input 
            type="text" 
            id="email"
            readonly 
            value="lucho200211@gmail.com"
            class="text-lg bg-transparent w-full focus:outline-none"
        />
    </div>
    <a 
        href="mailto:lucho200211@gmail.com?subject=Oferta de trabajo para [Nombre del puesto]"
        class="col-span-4 md:col-span-1 mt-5 md:mt-0 relative px-4 py-2 group/copy text-white bg-white/5 border-white/10 rounded hover:bg-white/10 trasition text-center"
    >
        Mensaje
    </a>
    <button 
        type="button"
        id="btn-copy-email" 
        class="col-span-4 md:col-span-1 mt-5 md:mt-0 relative px-4 py-2 group/copy text-white bg-white/5 border-white/10 rounded-lg grid place-content-center hover:bg-white/10 transition"
    >
        Copiar
    </button>
</form>

<SuccessAlert alertText="Copiado en portapapeles"/>

<script type="module">
    const email        = document.getElementById("email");
    const btnCopyEmail = document.getElementById("btn-copy-email");
    const successAlert = document.getElementById("success-alert");

    btnCopyEmail.addEventListener("click", () => {
        if (email) {
            navigator?.clipboard.writeText(email.value);
            successAlert.classList.remove("hidden");

            setTimeout(() => {
                successAlert.classList.add("hidden");
            }, 3000);
        }
    });
</script>
